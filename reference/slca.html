<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Construct Structural Latent Class Model — slca • slca</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Construct Structural Latent Class Model — slca"><meta name="description" content="Constructs a latent structure with multiple latent class variables."><meta property="og:description" content="Constructs a latent structure with multiple latent class variables."><meta property="og:image" content="https://kim0sun.github.io/slca/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">slca</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/kim0sun/slca/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Construct Structural Latent Class Model</h1>
      <small class="dont-index">Source: <a href="https://github.com/kim0sun/slca/blob/master/R/slca.R" class="external-link"><code>R/slca.R</code></a></small>
      <div class="d-none name"><code>slca.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Constructs a latent structure with multiple latent class variables.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">slca</span><span class="op">(</span>formula <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span>, constraints <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>a formula specifying the latent structure. Detailed model specifications are provided under 'Details'.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional formulae for defining the model structure.</p></dd>


<dt id="arg-constraints">constraints<a class="anchor" aria-label="anchor" href="#arg-constraints"></a></dt>
<dd><p>a list of constraints to enforce measurement invariance. Detailed explanations of applying constraints are available under 'Details'.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>slca</code> with the following components:</p>
<dl><dt>tree</dt>
<dd><p>A <code>data.frame</code> describing the parent-child relationships among latent class and manifest variables.</p></dd>

<dt>latent</dt>
<dd><p>A <code>data.frame</code> listing all latent class variables with details such as the number of classes.</p></dd>

<dt>measure</dt>
<dd><p>A <code>data.frame</code> describing the measurement model.</p></dd>

<dt>struct</dt>
<dd><p>A <code>data.frame</code> detailing the structural model.</p></dd>


</dl><p>The printed model description is divided into four parts:</p><ol><li><p><strong>Latent variables</strong>: Lists the latent class variables and the number of classes for each variable. The root variable is marked with an asterisk (<code>*</code>).</p></li>
<li><p><strong>Measurement model</strong>: Displays manifest indicators for each latent class variable and any applied measurement constraints (lowercase letters indicate consistency).</p></li>
<li><p><strong>Structural model</strong>: Describes the conditional relationships between latent class variables.</p></li>
<li><p><strong>Dependency constraints</strong>: Outlines constraints applied to conditional dependencies, where uppercase letters represent consistent dependency structures.</p></li>
</ol></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <strong><code>formula</code></strong> can be categorized into three types, each serving a distinct purpose:</p><ol><li><p><strong>Defining Latent Class Variables with Manifest Indicators</strong>:
Specify the relationship between a latent class variable and its manifest indicators. The latent class variable is on the left-hand side (lhs), denoted with square brackets <code>[]</code> or parentheses <code>()</code> to indicate the number of classes, and manifest indicators are listed on the right-hand side (rhs). For example:</p><div class="sourceCode"><pre><code><span></span>
<span><span class="va">LC1</span><span class="op">[</span><span class="va">k</span><span class="op">]</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span> <span class="op">+</span> <span class="va">x3</span></span>
<span><span class="va">LC2</span><span class="op">[</span><span class="va">k</span><span class="op">]</span> <span class="op">~</span> <span class="va">y1</span> <span class="op">+</span> <span class="va">y2</span> <span class="op">+</span> <span class="va">y3</span></span>
<span><span class="fu">LC3</span><span class="op">(</span><span class="va">k</span><span class="op">)</span> <span class="op">~</span> <span class="va">z1</span> <span class="op">+</span> <span class="va">z2</span> <span class="op">+</span> <span class="va">z3</span></span>
<span>   </span></code></pre></div><p>Here, <code>k</code> denotes the number of latent classes for the variable.</p></li>
<li><p><strong>Relating Latent Class Variables to Each Other</strong>:
Define relationships where one latent class variable influences another. For example:</p><div class="sourceCode"><pre><code><span></span>
<span><span class="va">LC2</span> <span class="op">~</span> <span class="va">LC1</span></span>
<span>   </span></code></pre></div><p>This formula implies that <code>LC2</code> is conditionally dependent on <code>LC1</code>.</p></li>
<li><p><strong>Defining Higher-Level Latent Class Variables</strong>:
Specify relationships where a latent class variable is measured by other latent class variables instead of manifest indicators. For example:</p><div class="sourceCode"><pre><code><span></span>
<span><span class="va">P</span><span class="op">[</span><span class="va">k</span><span class="op">]</span> <span class="op">~</span> <span class="va">LC1</span> <span class="op">+</span> <span class="va">LC2</span> <span class="op">+</span> <span class="va">LC3</span></span>
<span>   </span></code></pre></div><p>This indicates that the latent variable <code>P</code> is measured by the latent class variables <code>LC1</code>, <code>LC2</code>, and <code>LC3</code>.</p></li>
</ol><p>In all formulas, variables on the lhs influence those on the rhs.</p>
<p>The <code>constraints</code> argument enforces specific conditions to ensure precise inference, such as measurement invariance. This is particularly useful for longitudinal analysis (eg. LTA or LCPA), where consistent meanings of latent classes across time are essential.</p><ol><li><p><strong>Measurement Invariance for the Measurement Model</strong>:
Ensures probabilities associated with latent class variables remain consistent. For example:</p><div class="sourceCode"><pre><code><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"LC1"</span>, <span class="st">"LC2"</span>, <span class="st">"LC3"</span><span class="op">)</span></span>
<span>   </span></code></pre></div><p>This ensures that <code>LC1</code>, <code>LC2</code>, and <code>LC3</code> have semantically consistent measurement probabilities.</p></li>
</ol><p>' 2. <strong>Measurement Invariance for the Structural Model</strong>:
Applies constraints to ensure consistent interpretations of transition probabilities between latent class variables. For example:</p><div class="sourceCode"><pre><code><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"P ~ LC1"</span>, <span class="st">"P -&gt; LC2"</span><span class="op">)</span></span>
<span>   </span></code></pre></div><p>This ensures that the transitions from <code>P</code> to <code>LC1</code> and <code>P</code> to <code>LC2</code> are consistent.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Standard LCA</span></span></span>
<span class="r-in"><span><span class="fu">slca</span><span class="op">(</span><span class="va">lc</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">~</span> <span class="va">y1</span> <span class="op">+</span> <span class="va">y2</span> <span class="op">+</span> <span class="va">y3</span> <span class="op">+</span> <span class="va">y4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Structural Latent Variable Model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Latent variables (Root*):           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Label: lc*</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nclass: 3  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Measurement model:                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  lc -&gt; { y1, y2, y3, y4 }  a</span>
<span class="r-in"><span><span class="co"># Latent transition analysis (LTA)</span></span></span>
<span class="r-in"><span><span class="fu">slca</span><span class="op">(</span><span class="va">lx</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span> <span class="op">+</span> <span class="va">x3</span> <span class="op">+</span> <span class="va">x4</span>,</span></span>
<span class="r-in"><span>     <span class="va">ly</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">~</span> <span class="va">y1</span> <span class="op">+</span> <span class="va">y2</span> <span class="op">+</span> <span class="va">y3</span> <span class="op">+</span> <span class="va">y4</span>,</span></span>
<span class="r-in"><span>     <span class="va">lx</span> <span class="op">~</span> <span class="va">ly</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Structural Latent Variable Model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Latent variables (Root*):              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Label: lx* ly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nclass: 3   2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Measurement model:                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  lx -&gt; { x1, x2, x3, x4 }  a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ly -&gt; { y1, y2, y3, y4 }  b</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Structural model:             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  lx -&gt; { ly }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dependency constraints:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  A       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  lx -&gt; ly</span>
<span class="r-in"><span><span class="co"># LTA with measurement invariance</span></span></span>
<span class="r-in"><span><span class="fu">slca</span><span class="op">(</span><span class="va">l1</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">~</span> <span class="va">y11</span> <span class="op">+</span> <span class="va">y21</span> <span class="op">+</span> <span class="va">y31</span> <span class="op">+</span> <span class="va">y41</span>,</span></span>
<span class="r-in"><span>     <span class="va">l2</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">~</span> <span class="va">y12</span> <span class="op">+</span> <span class="va">y22</span> <span class="op">+</span> <span class="va">y32</span> <span class="op">+</span> <span class="va">y42</span>,</span></span>
<span class="r-in"><span>     <span class="va">l1</span> <span class="op">~</span> <span class="va">l2</span>, constraints <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"l1"</span>, <span class="st">"l2"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Structural Latent Variable Model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Latent variables (Root*):              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Label: l1* l2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nclass: 3   3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Measurement model:                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  l1 -&gt; { y11, y21, y31, y41 }  a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  l2 -&gt; { y12, y22, y32, y42 }  a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Structural model:             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  l1 -&gt; { l2 }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dependency constraints:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  A       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  l1 -&gt; l2</span>
<span class="r-in"><span><span class="co"># Joint latent class analysis</span></span></span>
<span class="r-in"><span><span class="fu">slca</span><span class="op">(</span><span class="va">lx</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span> <span class="op">+</span> <span class="va">x3</span> <span class="op">+</span> <span class="va">x4</span>,</span></span>
<span class="r-in"><span>     <span class="va">ly</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">~</span> <span class="va">y1</span> <span class="op">+</span> <span class="va">y2</span> <span class="op">+</span> <span class="va">y3</span> <span class="op">+</span> <span class="va">y4</span>,</span></span>
<span class="r-in"><span>     <span class="va">lz</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">~</span> <span class="va">z1</span> <span class="op">+</span> <span class="va">z2</span> <span class="op">+</span> <span class="va">z3</span> <span class="op">+</span> <span class="va">z4</span>,</span></span>
<span class="r-in"><span>     <span class="va">jc</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">~</span> <span class="va">lx</span> <span class="op">+</span> <span class="va">ly</span> <span class="op">+</span> <span class="va">lz</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Structural Latent Variable Model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Latent variables (Root*):                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Label: lx ly lz jc*</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nclass: 2  3  2  3  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Measurement model:                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  lx -&gt; { x1, x2, x3, x4 }  a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ly -&gt; { y1, y2, y3, y4 }  b</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  lz -&gt; { z1, z2, z3, z4 }  c</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Structural model:                     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  jc -&gt; { lx, ly, lz }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dependency constraints:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  A        B        C       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  jc -&gt; lx jc -&gt; ly jc -&gt; lz</span>
<span class="r-in"><span><span class="co"># Latent class profile analysis (with measurement invariance)</span></span></span>
<span class="r-in"><span><span class="fu">slca</span><span class="op">(</span><span class="va">l1</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span> <span class="op">+</span> <span class="va">x3</span> <span class="op">+</span> <span class="va">x4</span>,</span></span>
<span class="r-in"><span>     <span class="va">l2</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">~</span> <span class="va">y1</span> <span class="op">+</span> <span class="va">y2</span> <span class="op">+</span> <span class="va">y3</span> <span class="op">+</span> <span class="va">y4</span>,</span></span>
<span class="r-in"><span>     <span class="va">l3</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">~</span> <span class="va">z1</span> <span class="op">+</span> <span class="va">z2</span> <span class="op">+</span> <span class="va">z3</span> <span class="op">+</span> <span class="va">z4</span>,</span></span>
<span class="r-in"><span>     <span class="va">pf</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span> <span class="op">~</span> <span class="va">l1</span> <span class="op">+</span> <span class="va">l2</span> <span class="op">+</span> <span class="va">l3</span>,</span></span>
<span class="r-in"><span>     constraints <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"l1"</span>, <span class="st">"l2"</span>, <span class="st">"l3"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Structural Latent Variable Model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Latent variables (Root*):                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Label: l1 l2 l3 pf*</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nclass: 3  3  3  4  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Measurement model:                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  l1 -&gt; { x1, x2, x3, x4 }  a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  l2 -&gt; { y1, y2, y3, y4 }  a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  l3 -&gt; { z1, z2, z3, z4 }  a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Structural model:                     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  pf -&gt; { l1, l2, l3 }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dependency constraints:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  A        B        C       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  pf -&gt; l1 pf -&gt; l2 pf -&gt; l3</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Youngsun Kim, Hwan Chung.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

